{% extends "swingtime/swingtime_base.html" %}
{% block title %}Daily View{% endblock %}
{% block main_content %}
    <h3 class="margin-top-10">Daily View</h3>
    <h4 class="margin-top-10">
        <a class="plain" href="{% url 'swingtime-daily-view' prev_day.year prev_day.month prev_day.day %}">&larr;</a>
        {{ day|date:"l, N jS Y" }}
        <a class="plain" href="{% url 'swingtime-daily-view' next_day.year next_day.month next_day.day %}">&rarr;</a>
    </h4>

{%if con%}


     <table class="calendar">
      <!-- <table class="table table-striped">-->
        <thead class="swingtime-th">
            <tr class="swingtime-tr">
                <th class="swingtime-th">Time</th>
                {%for location in locations%}
                <th class="swingtime-th" style="text-align:center; width:{{maxwidth}}%;">
                  {%if location.abbrv%}{{location.abbrv}}{%else%}{{location}}{%endif%}</th>
                {%endfor%}
            </tr>
        </thead>
        <tbody>
            {% for tm,cells in timeslots %}
            <tr class="swingtime-tr">
                <th class="swingtime-th"
                {%if locations|length > 1 %}style="width:{{maxwidth}}%;"
                {%else%}style="width:10%;"{%endif%}><b>{{ tm|date:"P" }}</b></th>
                {% for cell in cells %}
                {%if cell%}
                <td{% if cell.event_class %} class="{{cell.event_class}} swingtime-td" rowspan="{{cell.rowspan}}"{%else %} class="swingtime-td" {% endif %} style="text-align:center; width:{{maxwidth}}%;">
                {% autoescape off %}
                    {{ cell }}
                {% endautoescape %}

                <!-- {% if not cell.event_class %}
                <a href="{% url 'swingtime-add-event' %}?dtstart={{ tm.isoformat }}">+</a>
                {%endif%} -->
              </td>
                {%endif%}
                {% endfor %}
            </tr>
            {% endfor %}
        </tbody>
    </table>

{%else%}
{% include "no_con.html" %}
{%endif%}

{% endblock %}
